<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta name="renderer" content="webkit" />
		<script type="text/javascript" src="js/cn.tee3.avd-2.5.0.0.min.js"></script>
	</head>

	<title>join room demo</title>

	<body>
		<div style="border: solid 1px black;width: 1165px;">
			<div align="center" style="border-bottom: solid 1px black;padding-bottom: 5px;">
				<p id="showUserName"></p>
				<button onclick="joinRoom()" id="joinRoomBtn">加入会议</button>
				<button id="leaveRoomBtn" style="display: none;">离开会议</button>&nbsp;&nbsp;
				视频编码：<select id="videoCode">
					<option value="vp8" selected="selected">vp8</option>
					<option value="vp9">vp9</option>
					<option value="h264">h264</option>
				</select>
				<button onclick="openVideo()" id="openVideoBtn">打开并发布视频</button>
				<button onclick="closeVideo()" id="closeVideoBtn" style="display: none;">关闭视频且取消发布</button>&nbsp;&nbsp;
				<button onclick="openAudio()" id="openAudioBtn">打开音频</button>
				<button onclick="closeAudio()" id="closeAudioBtn" style="display: none;">关闭音频</button>&nbsp;&nbsp;
				注：音频默认订阅
			</div>
			
			<div id="mediaDiv" style="border-bottom: solid 1px black;height: 350px;">
				<div id="inputDiv" style="width: 30%;height: 100%;float: left;border-right: solid 1px black;padding-left: 20px;text-align: center;">
					<h3>本地视频显示</h3>
					<video id="localVideo" width="300" height="200" muted autoplay></video>
					<audio id="localAudio" muted autoplay></audio>
					<h3 style="margin-bottom: 5px;">本地音频音量值</h3>
					<span id='audioLevelSelf' style="font-size: 18px;color: red;">0</span>
				</div>
				<div id="inputDiv" style="width: 30%;height: 100%;float: left;border-right: solid 1px black;padding-left: 20px;">
					<h3>房间已发布视频(不包括当前用户)</h3>
					<table id="roomPubVideos" style="border: solid 1px black;text-align: center;">
						<thead>
							<td style="border-right: solid 1px black;width: 250px;">发布视频信息</td>
							<td style="width: 80px;">视频操作</td>
						</thead>
					</table>
				</div>
				<div id="resultDiv" style="width: 35%;height: 100%;float: left;padding-left: 10px;">					
					<table id="roomSubVideos" style="border: solid 1px black;text-align: center;margin: 10px 0 0 10px;">
						<tr>
							<td colspan=2 style="width: 266px;">视频订阅</td>
						</tr>
						<tr>
							<td colspan=2 style="border-top: solid 1px black;display: none;" id="roomSubVideoTd1">
								用户id：<span id="subVideo1Id" style="color: red;"></span>
								<video id='remoteVideo1' width="150" height="90" muted autoplay></video>
							</td>							
						</tr>
						<tr>
							<td colspan=2 style="border-top: solid 1px black;display: none;" id="roomSubVideoTd2">
								用户id：<span id="subVideo2Id" style="color: red;"></span>
								<video id='remoteVideo2' width="150" height="90" muted autoplay></video>
							</td>
						</tr>
					</table>
					
					<table id="roomSubAudios" style="border: solid 1px black;text-align: center;margin: 10px 0 0 10px;">
						<tr>
							<td colspan=2 style="width: 266px;">音频接收</td>
						</tr>
						<tr>
							<td colspan=2 style="border-top: solid 1px black;display: none;" id="roomSubAudioTd1">
								<audio id='remoteAudio1' autoplay></audio>
								用户id：<span id="subAudio1Id" style="color: red;"></span>，音量值:<span id="audioLevelRemote1" style="color: red;">0</span>
							</td>
						</tr>
						<tr>
							<td colspan=2 style="border-top: solid 1px black;display: none;" id="roomSubAudioTd2">
								<audio id='remoteAudio2' autoplay></audio>
								用户id：<span id="subAudio2Id" style="color: red;"></span>，音量值:<span id="audioLevelRemote2" style="color: red;">0</span>
							</td>
						</tr>
					</table>
				</div>
			</div>

			<div id="logDiv" style="width: auto;height: 200px;padding: 0 0 0 20px;">
				<h3>日志结果展示：</h3>				
				<div id="jp-container" style="width:1100px;height:150px;overflow: auto;">
					<div id="logShow">
					</div>
				</div>
			</div>
		</div>
		
		<script type="text/javascript" src="js/joinRoom.js"></script>
	</body>
</html>